<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¾åŒ–è¾“å…¥æ¡†å’ŒæŒ‰é’®</title>
    <style>
        /* å…±åŒçš„å®¹å™¨æ ·å¼ */
        .container {
            display: flex;
            flex-direction: row; /* å°†å­å…ƒç´ åœ¨æ°´å¹³æ–¹å‘ä¸Šæ’åˆ— */
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }

        /* è¾“å…¥æ¡†æ ·å¼ */
        textarea {
            width: 800px;
            height: 200px;
            margin-bottom: 20px;
            resize: none;
            border: 1px solid #ccc;
            padding: 10px;
            font-size: 16px;
            box-sizing: border-box; /* è®© padding ä¸ä¼šæ’‘å¤§è¾“å…¥æ¡† */
        }

        /* æŒ‰é’®æ ·å¼ */
        button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #007bff;
            color: #fff;
            border-radius: 20px; /* è®¾ç½®åœ†è§’ */
            padding: 10px 20px; /* å¢åŠ å†…è¾¹è· */
            cursor: pointer;
            transition: background-color 0.3s;
            margin-right: 10px; /* è®¾ç½®æŒ‰é’®ä¹‹é—´çš„å³è¾¹è· */
        }

        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>

<div class="container">
    <textarea id="before" style="width: 800px;"></textarea>
    <div>
    <button id="jiami" style="display: inline-block;" onclick="jiami()">ğŸ‘‡åŠ å¯†</button>
    <button id="jiemi" style="display: inline-block;" onclick="jiemi()">ğŸ‘†è§£å¯†</button>
    </div>
    <textarea id="after" style="width: 800px"></textarea>
</div>
<script>
    function polybiusEncrypt(plainText) {
    const polybiusSquare = {
        'a': '11', 'b': '12', 'c': '13', 'd': '14', 'e': '15',
        'f': '21', 'g': '22', 'h': '23', 'i': '24', 'k': '25',
        'l': '31', 'm': '32', 'n': '33', 'o': '34', 'p': '35',
        'q': '41', 'r': '42', 's': '43', 't': '44', 'u': '45',
        'v': '51', 'w': '52', 'x': '53', 'y': '54', 'z': '55'
    };

    let cipherText = '';
    for (let char of plainText.toLowerCase()) {
        if (char in polybiusSquare) {
            cipherText += polybiusSquare[char];
        } else {
            // å¦‚æœå­—ç¬¦ä¸åœ¨Polybiusæ–¹é˜µä¸­ï¼Œä¿æŒä¸å˜
            cipherText += char;
        }
    }
    return cipherText;
}

// Polybiusè§£å¯†å‡½æ•°
function polybiusDecrypt(cipherText) {
    const polybiusSquare = {
        '11': 'a', '12': 'b', '13': 'c', '14': 'd', '15': 'e',
        '21': 'f', '22': 'g', '23': 'h', '24': 'i', '25': 'k',
        '31': 'l', '32': 'm', '33': 'n', '34': 'o', '35': 'p',
        '41': 'q', '42': 'r', '43': 's', '44': 't', '45': 'u',
        '51': 'v', '52': 'w', '53': 'x', '54': 'y', '55': 'z'
    };

    let plainText = '';
    // å°†å¯†æ–‡åˆ†å‰²æˆé•¿åº¦ä¸º2çš„å­—ç¬¦å¯¹
    const pairs = cipherText.match(/(..?)/g);
    if (!pairs) return cipherText; // è¿”å›åŸå§‹å¯†æ–‡ï¼Œå¦‚æœæ— æ³•åˆ†å‰²æˆå­—ç¬¦å¯¹

    for (let pair of pairs) {
        if (pair in polybiusSquare) {
            plainText += polybiusSquare[pair];
        } else {
            // å¦‚æœå­—ç¬¦å¯¹ä¸åœ¨Polybiusæ–¹é˜µä¸­ï¼Œä¿æŒä¸å˜
            plainText += pair;
        }
    }
    return plainText;
}

function jiami(){
    let a,b;
    a = document.querySelector("#before").value;
    b = polybiusEncrypt(a);
    document.querySelector("#after").value = b;
}
function jiemi(){
    let a,b;
    b = document.querySelector("#after").value;
    a = polybiusDecrypt(b);
    document.querySelector("#before").value = a;
}

</script>

</body>

</html>
